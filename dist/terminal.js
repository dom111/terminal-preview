(()=>{var i={bg:"49",fg:"39",bold:!1,dim:!1,italic:!1,underline:!1,blink:!1,overline:!1,invert:!1,hidden:!1,strikethrough:!1},u={...i},g=n=>{let t={...i};return n=n.replace(/\b48;5;(\d+)\b/,"48_5_$1").replace(/\b38;5;(\d+)\b/,"38_5_$1").replace(/\b48;2;(\d+);(\d+);(\d+)\b/,"48_2_$1_$2_$3").replace(/\b38;2;(\d+);(\d+);(\d+)\b/,"38_2_$1_$2_$3"),n.split(/;/).forEach(a=>{let e;a==="0"&&(t={...u}),a==="1"&&(t.bold=!0),a==="2"&&(t.dim=!0),a==="3"&&(t.italic=!0),a==="4"&&(t.underline=!0),a==="5"&&(t.blink=!0),a==="6"&&(t.overline=!0),a==="7"&&(t.invert=!0),a==="8"&&(t.hidden=!0),a==="9"&&(t.strikethrough=!0),a==="21"&&(t.bold=!1),a==="22"&&(t.dim=!1),a==="23"&&(t.italic=!1),a==="24"&&(t.underline=!1),a==="25"&&(t.blink=!1),a==="26"&&(t.overline=!1),a==="27"&&(t.invert=!1),a==="28"&&(t.hidden=!1),a==="29"&&(t.strikethrough=!1),(e=a.match(/^38_2_(\d+)_(\d+)_(\d+)$/))?t.fg=l("true-"+e.slice(1).join("-")):(e=a.match(/^38_5_(\d+)$/))?t.fg=l("256-"+e[1]):(e=a.match(/^(3|9)[0-79]$/))&&(t.fg=a),(e=a.match(/^^48_2_(\d+)_(\d+)_(\d+)$/))?t.bg=l("true-"+e.slice(1).join("-"),!0):(e=a.match(/^48_5_(\d+)$/))?t.bg=l("256-"+e[1],!0):(e=a.match(/^(4|10)[0-79]$/))&&(t.bg=a)}),t},l=(n,t=!1)=>{let a=t?"4":"3",e=t?"10":"9",s;return(s=n.match(/^true-(\d+)-(\d+)-(\d+)/))&&(s=x([parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)],!0))&&(n="256-"+s),(s=n.match(/^256-(\d+)/))&&(parseInt(s[1],10)<16?parseInt(s[1],10)<8?n=a+s[1]:n=e+parseInt(s[1],10)%8:s[1]==="16"?n=a+"0":s[1]==="231"&&(n=e+"7")),n};var y=n=>{let t={stylingReset:/^(?:\\\[)?(?:\\033|\\e|\\x1[bB]|\x1b)\[(0?)m(?:\\])?/,styling:/^(?:\\\[)?(?:\\033|\\e|\\x1[bB]|\x1b)\[([^m]*)m(?:\\])?/,command:/^(?:\\\[)?(?:\\?`([^`]+)\\?`|\\?\$\(([^)]+)\))(?:\\])?/,octal:/^\\(\d{3})/,hex:/^\\x([0-9a-fA-F]{2})/,token:/^( |\\[!#$@\\0aAdehHjlnsTtuvVWw])/,variable:/^\${?(\w+|\?)}?/,text:/^([\S\s])/},a=[],e,s,r;for(;n;)r=!1,Object.entries(t).forEach(([o,f])=>{!r&&(e=n.match(f))&&(r=!0,o==="text"&&a.length&&(s=a[a.length-1]).type==="text"?(s.content+=e[0],s.value+=e[0]):o==="command"?a.push({type:o,content:e[0],value:e[1]||e[2]||"",wrap:!!(e[0].match(/^\\\[/)&&e[0].match(/\\]$/))}):a.push({type:o,content:e[0],value:e[1],wrap:!!(e[0].match(/^\\\[/)&&e[0].match(/\\]$/))}),n=n.replace(f,""))});return a},b=n=>{let t="",a=()=>{let e=[];return i.invert?(e.push("bg-"+i.fg),e.push("fg-"+i.bg)):(e.push("bg-"+i.bg),e.push("fg-"+i.fg)),["bold","dim","italic","underline","overline","strikethrough","blink","hidden"].forEach(s=>{i[s]&&e.push(s)})," "+e.join(" ")};return i={...u},n.forEach(e=>{let s=r=>(r||"").replace(/"/g,"&quot;");e.type.match(/styling/)?(t.match(/<span class="block styling/)&&(t+="</span>"),e.style=g(e.value),i={...i,...e.style},t+='<span class="block styling'+a()+'" data-content="'+s(e.content)+'" data-value="'+s(e.value)+'" data-type="'+e.type+'" style="'+((e.style.fg+"").match(/true-/)?(e.style.fg+"").replace(/true-/,"color: rgb(").replace(/$/,");").replace(/\-/g,","):"")+((e.style.bg+"").match(/true-/)?(e.style.bg+"").replace(/\-/g,",").replace(/true,/,"background-color: rgb(").replace(/$/,")"):"")+'"><span class="content">'+e.content+"</span>"):e.type==="command"?t+='<span class="block '+e.type+'" data-content="'+s(e.content)+'" data-value="'+s(e.value)+'"><span class="content">'+(e.wrap?'<span class="wrap">\\[</span>':"")+"$("+e.value+")"+(e.wrap?'<span class="wrap">\\]</span>':"")+"</span></span>":e.type==="token"?t+='<span class="block '+e.type+'" data-content="'+s(e.content)+'" data-value="'+s(e.value)+'" data-type="'+e.type+'"><span class="content">'+e.content+"</span></span>":e.type==="text"?t+='<span class="block '+e.type+'" data-content="'+s(e.content)+'" data-value="'+s(e.value)+'" data-type="'+e.type+'">'+e.content+"</span>":e.type==="variable"?t+='<span class="block '+e.type+'" data-content="'+s(e.content)+'" data-value="'+s(e.value)+'" data-type="'+e.type+'"><span class="content">'+e.content+"</span></span>":e.type==="hex"?t+='<span class="block '+e.type+'" data-content="'+s(e.content)+'" data-value="'+s(String.fromCharCode(parseInt(e.value,16)))+'" data-type="'+e.type+'"><span class="content">'+e.content+"</span></span>":e.type==="octal"&&(t+='<span class="block '+e.type+'" data-content="'+s(e.content)+'" data-value="'+s(String.fromCharCode(parseInt(e.value,8)))+'" data-type="'+e.type+'"><span class="content">'+e.content+"</span></span>")}),t+='<span class="cursor"></span>',t.match(/<span class="block styling/)&&(t+="</span>"),t},T=n=>b(y(n)),c=(()=>{let n=[];return n.push([0,0,0,0]),n.push([128,0,0,1]),n.push([0,128,0,2]),n.push([128,128,0,3]),n.push([0,0,128,4]),n.push([128,0,128,5]),n.push([0,128,128,6]),n.push([192,192,192,7]),n.push([128,128,128,8]),n.push([255,0,0,9]),n.push([0,255,0,10]),n.push([255,255,0,11]),n.push([0,0,255,12]),n.push([255,0,255,13]),n.push([0,255,255,14]),n.push([255,255,255,15]),[0,95,135,175,215,255].forEach(t=>{[0,95,135,175,215,255].forEach(a=>{[0,95,135,175,215,255].forEach(e=>{n.push([t,a,e,16+parseInt(""+Math.floor(t/255*5)+Math.floor(a/255*5)+Math.floor(e/255*5),6)])})})}),[8,18,28,38,48,58,68,78,88,98,108,118,128,138,148,158,168,178,188,198,208,218,228,238].forEach(t=>{n.push([t,t,t,232+Math.floor(t/10)])}),n})(),S=(n,t)=>n.slice(0).sort((a,e)=>Math.abs(a[0]-t[0])+Math.abs(a[1]-t[1])+Math.abs(a[2]-t[2])-(Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2]))||a[3]-e[3])[0];var x=(n,t=!1)=>t?(c.filter(e=>e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2])[0]||[])[3]??null:(S(c,n)||[])[3]??null;var d=T;var h=n=>{let t=window.getSelection(),a=r=>{let o=[];for(;r.parentNode!==document;)o.push(r.parentNode),r=r.parentNode;return o};if(t===null)return 0;let e=-1,s;if(t.focusNode&&a(t.focusNode).some(r=>r===n)){for(s=t.focusNode,e=t.focusOffset;s&&s!==n;)if(s.previousSibling)s=s.previousSibling,e+=(s.textContent??"").length;else if(s=s.parentNode,!s)break}return e},m=(n,t)=>{let a=(e,s,r=null)=>{if(r===null&&(r=document.createRange(),r.selectNode(e),r.setStart(e,0)),s.count===0)r.setEnd(e,s.count);else if(e&&s.count>0)if(e.nodeType===Node.TEXT_NODE)(e.textContent??"").length<s.count?s.count-=(e.textContent??"").length:(r.setEnd(e,s.count),s.count=0);else for(var o=0;o<e.childNodes.length&&(r=a(e.childNodes[o],s,r),s.count!==0);o++);return r};if(t>=0){let e=window.getSelection(),s=a(n,{count:t});return e===null?void 0:s?(s.collapse(!1),e.removeAllRanges(),e.addRange(s),!0):!1}};var p=n=>{let t=()=>{n.classList.add("mutating");let a=d(n.innerText);if(n.innerHTML!==a){let e=h(n);n.innerHTML=a,m(n,e)}requestAnimationFrame(()=>n.classList.remove("mutating"))};n.classList.contains("mutating")||(n.classList.contains("change-event-bound")||(n.addEventListener("input",()=>t()),n.classList.add("change-event-bound")),t())},E=new MutationObserver(n=>{for(let{target:t}of n){if(!(t instanceof HTMLElement))continue;let a=t.querySelectorAll(".terminal");if(a.length){a.forEach(e=>p(e));continue}t.matches(".terminal")&&p(t)}});E.observe(document,{childList:!0,subtree:!0});document.querySelectorAll(".terminal").forEach(n=>p(n));var v=p;})();
